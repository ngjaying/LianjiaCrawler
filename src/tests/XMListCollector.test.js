import {XMListCollector} from '../collectors/XMListCollector';
import logger from '../utils/logger';

let html = `<table Class="grid tab2 tabsty2" id="tbClfList"><thead><tr><th scope="col"><a href="/search/HouseListParital?sort=XH&amp;sortdir=ASC">序号</a></th><th scope="col">位 置</th><th scope="col">房 型</th><th scope="col"><a href="/search/HouseListParital?sort=jzmj&amp;sortdir=ASC">面 积</a></th><th scope="col"><a href="/search/HouseListParital?sort=zsjg&amp;sortdir=ASC">价 格</a></th><th scope="col"><a href="/search/HouseListParital?sort=fbrq&amp;sortdir=ASC">发布日期</a></th></tr></thead><tfoot><tr class="footer"><td colspan="6"><a href="/search/HouseListParital?page=392">上一页</a> <a href="/search/HouseListParital?page=384">384</a> <a href="/search/HouseListParital?page=385">385</a> <a href="/search/HouseListParital?page=386">386</a> <a href="/search/HouseListParital?page=387">387</a> <a href="/search/HouseListParital?page=388">388</a> <a href="/search/HouseListParital?page=389">389</a> <a href="/search/HouseListParital?page=390">390</a> <a href="/search/HouseListParital?page=391">391</a> <a href="/search/HouseListParital?page=392">392</a> 393 </td></tr></tfoot><tbody><tr class="even"><td>1</td><td class="wz"><a href="/House/Detail?fyxh=19887&amp;idx=5" target="_blank">海沧区沧湖东二里***号***室</a></td><td>二房二厅</td><td>124.42 ㎡</td><td>128 万元</td><td>2011-04-02</td></tr><tr><td>2</td><td class="wz"><a href="/House/Detail?fyxh=19736&amp;idx=5" target="_blank">开元区湖滨南路***号之十四***室</a></td><td>二室两厅</td><td>63.20 ㎡</td><td>78 万元</td><td>2011-04-08</td></tr><tr class="even"><td>3</td><td class="wz"><a href="/House/Detail?fyxh=16433&amp;idx=5" target="_blank">集美区东华路*号***室</a></td><td></td><td>91.02 ㎡</td><td>42 万元</td><td>2011-03-25</td></tr><tr><td>4</td><td class="wz"><a href="/House/Detail?fyxh=15397&amp;idx=5" target="_blank">思明区凤屿路**号之三**室</a></td><td></td><td>40.59 ㎡</td><td>52 万元</td><td>2011-03-23</td></tr><tr class="even"><td>5</td><td class="wz"><a href="/House/Detail?fyxh=12114&amp;idx=5" target="_blank">思明区莲前西路***号*B单元</a></td><td>三室二厅</td><td>111.33 ㎡</td><td>148 万元</td><td>2011-03-18</td></tr><tr><td>6</td><td class="wz"><a href="/House/Detail?fyxh=10634&amp;idx=5" target="_blank">湖里区台湾街***号****室</a></td><td>一房一厅</td><td>48.84 ㎡</td><td>50 万元</td><td>2011-03-16</td></tr><tr class="even"><td>7</td><td class="wz"><a href="/House/Detail?fyxh=9130&amp;idx=5" target="_blank">湖里区兴隆路***号**室</a></td><td></td><td>279.60 ㎡</td><td>340 万元</td><td>2011-03-15</td></tr><tr><td>8</td><td class="wz"><a href="/House/Detail?fyxh=8443&amp;idx=5" target="_blank">思明区湖滨东路*号第十层</a></td><td></td><td>746.80 ㎡</td><td>850 万元</td><td>2011-03-14</td></tr><tr class="even"><td>9</td><td class="wz"><a href="/House/Detail?fyxh=5977&amp;idx=5" target="_blank">湖里区后埔东二里**号***室</a></td><td>三室二厅</td><td>130.73 ㎡</td><td>145 万元</td><td>2011-03-10</td></tr><tr><td>10</td><td class="wz"><a href="/House/Detail?fyxh=5840&amp;idx=5" target="_blank">思明区文屏路**号之二十七</a></td><td></td><td>53.49 ㎡</td><td>68 万元</td><td>2011-03-09</td></tr><tr class="even"><td>11</td><td class="wz"><a href="/House/Detail?fyxh=2813&amp;idx=5" target="_blank">海沧区新光东路**号***室</a></td><td>单身公寓</td><td>32.13 ㎡</td><td>17 万元</td><td>2011-03-04</td></tr></tbody></table>
<input id="RowCount" name="RowCount" type="hidden" value="7851" />
`;

const main = async ()=>{
  logger.enableDebug();
  let LC = new XMListCollector();
  LC.setHtml(html);
  let page = LC.getTotalPage();
  logger.debug(page);
  await LC.save();
}
main();
